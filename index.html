<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>D3 Census Map</title>  
        <script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script> 
        <!-- <script src="https://unpkg.com/topojson@3"></script> -->
        <!-- <script src="http://d3js.org/topojson.v1.min.js"></script> -->
        <script src="https://unpkg.com/topojson-client@3"></script>

        <script src="http://d3js.org/queue.v1.min.js"></script>
        <!-- <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.3/jquery.csv.min.js"></script> -->
        <!-- Load React. -->
        <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
        <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
        <!-- <script src="https://unpkg.com/kepler.gl/umd/keplergl.min.js"></script> -->
        <script type="text/javascript" src="dat.gui.min.js"></script>
        <script src="Load.js" defer></script>
        <!-- <script src="App.js" defer></script> -->

        <style>
            svg {
                background: white;
            }
            path {
                fill: white;
                stroke: #333333;
                stroke-width: 0.5;
            }
        </style>
    </head> 
    <body>
      <h1>MA Counties</h1>
      <p style="color: rgb(155, 153, 153)">White (single race)</p>
      <p style="color: yellow">Black (single race)</p>
      <p style="color: turquoise">Native American (single race)</p>
      <p style="color: red">Asian (single race)</p>
      <p style="color: green">Hawaiian/Pacific Islander (single race)</p>
      <p style="color: blue">Other (single race)</p>
      <p id = "data" style="color: lavender">2+ races</p>
    
      <div id="map"></div>
      <!-- const Map = props => ( -->
      <!-- <KeplerGl/> -->
              <!-- id="foo"
              mapboxApiAccessToken={pk.eyJ1IjoiZGlza3VhbGlmaWVkIiwiYSI6ImNsOHV4dnB2MTAybm4zdXM0ZzJveTY3ZTIifQ.KerIRqV0CTCl6HX4IXA-rA}
              width={width}
              height={height}/>
        );  -->
      <canvas width = "1024" height = "800"></canvas>
      <script>
        
        //cx.strokeStyle = "red";
        //cx.stroke();
      </script>
    </body>
</html>


    <!-- 
            var addPointsToMap = function(crimeData) {
                var colorScale  = d3.scale.category10();

                var radiusScale = d3.scale.sqrt()
                    .domain(d3.extent(crimeData, function(crime) { return +crime.TOT; }))
                    .range([2, 15]);

                // Add the tooltip container to the vis container
                // it's invisible and its position/contents are defined during mouseover
                var tooltip = d3.select("#map-container").append("div")
                    .attr("class", "tooltip")
                    .style("opacity", 0);

                // tooltip mouseover event handler
                var tipMouseover = function(d) {
                    this.setAttribute("class", "circle-hover"); // add hover class to emphasize

                    var color = colorScale(d.CR);
                    var html  = "<span style='color:" + color + ";'>" + d.CR + "</span><br/>" +
                                "Count: " + d.TOT + "<br/>Date: " + d.MO + "/" + d.YR;

                    tooltip.html(html)
                        .style("left", (d3.event.pageX + 15) + "px")
                        .style("top", (d3.event.pageY - 28) + "px")
                      .transition()
                        .duration(200) // ms
                        .style("opacity", .9) // started as 0!
                };

                // tooltip mouseout event handler
                var tipMouseout = function(d) {
                    this.classList.remove("circle-hover"); // remove hover class

                    tooltip.transition()
                        .duration(300) // ms
                        .style("opacity", 0); // don't care about position!
                };

                svg.selectAll("circle")
                    .data(crimeData)
                  .enter().append("circle")
                    .attr("fill", function(d) { return colorScale(d.CR); })
                    .attr("cx", function(d) { return projection([+d.longitude, +d.latitude])[0]; })
                    .attr("cy", function(d) { return projection([+d.longitude, +d.latitude])[1]; })
                    .attr("r",  function(d) { return radiusScale(+d.TOT); })
                    .on("mouseover", tipMouseover)
                    .on("mouseout", tipMouseout);

                addLegend(colorScale);
            };

            var addLegend = function(colorScale) {
                var legendMarginTop  = 50,
                    legendMarginLeft = 30,
                    legendWidth  = 250,
                    legendHeight = 150;

                var legend = svg.append('g')
                    .attr('width', legendWidth)
                    .attr('height', legendHeight)
                    .attr("transform", "translate(" + legendMarginLeft + "," + legendMarginTop + ")");

                var legends = legend.selectAll(".legend")
                    .data(colorScale.domain())
                  .enter().append("g")
                    .attr("class", "legend")
                    .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

                // draw legend colored rectangles
                legends.append("rect")
                    .attr("x", legendWidth - 18)
                    .attr("width", 18)
                    .attr("height", 18)
                    .style("fill", colorScale);

                // draw legend text
                legends.append("text")
                    .attr("x", legendWidth - 24)
                    .attr("y", 9)
                    .attr("dy", ".35em")
                    .style("text-anchor", "end")
                    .text(function(d) { return d.toLowerCase(); });
            };
